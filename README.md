# 별 유형 예측 프로젝트
우주 유튜브 보다보니까 너무 재밌어서 별에 대해 검색하다가 관심이 좀 많아졌습니다.  
그래서 별에 관한 데이터로 프로젝트를 해보려고 맘 먹었습니다.  
이 프로젝트는 별의 유형을 예측하는 예제 프로젝트입니다.  
데이터를 다양한 측면에서 탐색하고 분석하여 데이터를 시각화합니다.  
사용자는 주어진 별의 특징을 입력하고, 모델이 해당 별의 유형을 예측합니다.  

## 기획
- 데이터 수집: 캐글 등의 온라인 데이터 플랫폼에서 관련 데이터셋을 찾아봤습니다.
-  https://www.kaggle.com/datasets/deepu1109/star-dataset
- 프로젝트 목표 설정:  
1. 데이터를 분석하고 시각화 합니다.  
2. 별 유형을 예측하는 머신러닝 모델을 개발하여 사용자가 입력한 별의 특징을 기반으로 유형을 예측합니다.  


## 설계
- 사용자가 원하는 데이터를 데이터프레임에서 추출해 제공합니다.
- 다양한 측면에서 데이터를 탐색하고 분석해서 데이터를 시각화합니다.  
- 데이터를 불러와서 결측치 처리, 이상치 제거, 데이터 스케일링 등의 전처리를 수행하는 방법을 설계했습니다.  
- 별 유형을 분류하기 위한 적합한 머신러닝 알고리즘을 선택했습니다.  


## 개발

#### 깃허브 레포지토리 생성

- 깃허브 레포지토리를 생성합니다.
- 좀 더 간편한 작업을 위해 깃허브 데스크탑을 사용했습니다.

#### 로컬에서 클론

- 깃허브 데스크탑에서 파일 경로를 복사하여 클론 했습니다.
- 클론한 경로로 이동한 후 데이터를 저장할 새 폴더(data)를 생성해 kaggle에서 가져온 데이터셋을 담아주었습니다.

#### 데이터 가공  

##### 세팅 
- 아나콘다 프롬프트를 열고 가상 환경을 세팅= >$conda create -n st_310 python=3.10 openssl numpy scipy matplotlib ipython scikit-learn pandas pillow jupyter seaborn
- 가상 환경을 활성화= > conda activate st_310
- 클론한 디렉토리의 경로로 들어가 주피터 노트북 실행
- 
##### 개발 과정
- pandas 로 작업할 데이터를 불러와서 작업 시작했습니다.
- 
###### EDA 설정
- 각 별의 특성(온도, 광도, 반지름 등)에 대한 박스 플롯과 히스토그램 그려서, 각 별의 유형에 따라 분포를 비교할 수 있도록 했습니다.
- 각 컬럼 간의 상관 관계가 어떻게 되는지 쉽게 확인할 수 있게 seaborn의 heatmap과 pairplot 을 이용해 컬럼 간의 상관 관계를 한 눈에 파악할 수 있도록 시각화 했습니다.

###### ML
- 학습에 사용할 X에서 문자열로 구성된 컬럼의 고유 값 개수를 nunique()로 확인한 결과 3 이상이었기 때문에 적합한 원핫인코딩을 사용하여 인코딩했습니다.
- 다른 하나의 문자열로 구성된 컬럼은 해당하는 숫자의 값으로 매핑 했습니다.  
= > X['Spectral Class'].map({'M': 0, 'K': 1, 'G': 2, 'F': 3, 'A': 4, 'B': 5, 'O': 6})
- 학습에 사용할 X와 y를 sklearn의 train_test_split 함수를 사용하여 학습용과 테스트용으로 나눠 데이터를 준비했습니다.
- 학습은 sklearn의 LogisticRegression을 사용하여 데이터를 기반으로 모델을 학습하고 분류 작업을 수행했습니다.
- 학습한 모델을 테스트 하고 성능을 확인했습니다.
1. sklearn 의 accuracy_score를 사용하여 정확도를 확인했습니다.
2. sklearn 의 confusion_matrix를 통해 모델이 각 클래스를 얼마나 정확하게 분류했는지 확인했습니다.
3. sklearn 의 classification_report를 사용하여 각 클래스에 대한 정밀도, 재현율, F1 점수, 그리고 지원 수를 확인하여 모델의 분류 성능을 상세하게 평가했습니다.
- 모델을 저장하기 위해 먼저 os 모듈의 makedir 함수를 사용하여 model 폴더를 만들고, 그 후에 joblib 모듈의 dump 함수를 이용하여 모델을 model 폴더 안에 저장했습니다.

- 모델과 star_type.ipynb 파일을 커밋한 후 푸시했습니다.

###### streamlit 을 이용한 대시보드 개발
- 대시보드 개발은 Visual Studio Code 에서 작업했습니다.
- 깃허브 데스크탑을 통해 연동된 레포지토리를 VS Code에서 실행했습니다.


- EDA :
1. 데이터 / 통계치 확인:
streamlit 의 radio를 사용해 데이터프레임과 통계치 (describe) 를 나눠 사용자가 원하는 메뉴를 눌렀을 때 나올 수 있도록 제공했습니다.  
2. Hertzsprung-Russell Diagram(헤르츠스프룽-러셀 도표):
plotly 의 scatter를 이용해서 별의 온도와 밝기를 나타내는 산점도를 그려 별의 분포와 유형을 시각화했습니다.
점은 데이터에 있는 Star color 컬럼의 데이터를 이용해서 온도와 밝기에 따른 별의 색깔을 토대로 산점도를 나타냈습니다.    
3. 최대/최소 데이터 확인:  
streamlit 의 selectbox 를 이용해 사용자가 선택한 컬럼에 대해 최대값과 최소값을 포함한 데이터를 제공했습니다.  
4. 사용자가 선택한 컬럼과 별의 유형 간의 상관 관계 분석:  
streamlit 의 selectbox 를 이용해 사용자가 선택한 컬럼에 따른 별의 유형 분포를  
plotly 의 box 와 histogram 을 이용해 각각 박스 플롯과 히스토그램으로 시각화하여 각 유형의 특징을 비교했습니다.  
5. 사용자가 선택한 두 컬럼간의 분포를 비교하여 시각화:  

6. 히트맵(Heatmap):  
선택한 컬럼들 간의 상관 관계를 히트맵으로 시각화하여 변수들 간의 상관성을 확인했습니다.  
7. 페어플롯(Pair plot):  
선택한 컬럼들 간의 상관 관계를 페어플롯으로 시각화하여 변수들 간의 분포와 관계를 시각적으로 확인했습니다.


